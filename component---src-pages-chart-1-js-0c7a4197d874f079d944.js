(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Wkab:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return V}));var r=n("q1tI"),o=n.n(r),a=n("Zttt"),s=(n("6kNP"),n("8npG"),n("sC2a"),n("sPse"),n("klQ5"),n("MKeS")),i=(n("pJf4"),n("q8oJ"),n("cFtU"),n("m210"),n("4DPX"),n("E5k/"),n("Ggvi"),n("v9g0"),n("o0o1")),c=n.n(i);n("ls82"),n("rzGZ"),n("Dq+y"),n("YbXK"),n("xJgp"),n("Ll4R");function l(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){l(a,r,o,s,i,"next",e)}function i(e){l(a,r,o,s,i,"throw",e)}s(void 0)}))}}function p(e){return f.apply(this,arguments)}function f(){return(f=u(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://min-api.cryptocompare.com/"+t);case 3:return n=e.sent,e.abrupt("return",n.json());case 7:throw e.prev=7,e.t0=e.catch(0),new Error("CryptoCompare request error: "+e.t0.status);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(e,t,n){var r=t+"/"+n;return{short:r,full:e+":"+r}}function d(e){var t=e.match(/^(\w+):(\w+)\/(\w+)(?:#(\w+))?$/);return t?{exchange:t[1],fromSymbol:t[2],toSymbol:t[3],fragment:t[4]}:null}n("zTTH"),n("HQhv");function m(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=io("wss://streamer.cryptocompare.com"),v=new Map;b.on("connect",(function(){console.log("[socket] Connected")})),b.on("disconnect",(function(e){console.log("[socket] Disconnected:",e)})),b.on("error",(function(e){console.log("[socket] Error:",e)})),b.on("m",(function(e){console.log("[socket] Message:",e);var t=e.split("~"),n=t[0],r=t[1],o=t[2],a=t[3],s=t[6],i=t[8];if(0===parseInt(n)){var c=parseFloat(i),l=parseInt(s),u="0~"+r+"~"+o+"~"+a,p=v.get(u);if(void 0!==p){var f,h,d,m=p.lastDailyBar,y=(f=m.time,(h=new Date(1e3*f)).setDate(h.getDate()+1),h.getTime()/1e3);l>=y?(d={time:y,open:c,high:c,low:c,close:c},console.log("[socket] Generate new bar",d)):(d=Object.assign({},m,{high:Math.max(m.high,c),low:Math.min(m.low,c),close:c}),console.log("[socket] Update the latest bar by price",c)),p.lastDailyBar=d,p.handlers.forEach((function(e){return e.callback(d)}))}}}));var g=n("oY9k"),_=n.n(g);function w(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){w(a,r,o,s,i,"next",e)}function i(e){w(a,r,o,s,i,"throw",e)}s(void 0)}))}}var S=function(e){return{name:"BinanceOI",metainfo:{_metainfoVersion:42,id:"BinanceOI@tv-basicstudies-1",name:"BinanceOI",description:"Binance Open Interest",shortDescription:"BinanceOI",scriptIdPart:"",is_price_study:!1,is_hidden_study:!0,isCustomIndicator:!0,isTVScript:!1,isTVScriptStub:!1,inputs:[],plots:[{id:"plot_0",type:"line"},{id:"plot_hidden",type:"line"}],defaults:{styles:{plot_0:{linestyle:0,visible:!0,linewidth:2,plottype:2,trackPrice:!1,transparency:0,color:"#63c5ff"},plot_hidden:{isHidden:!0,visible:!1,trackPrice:!1}},precision:0,inputs:{}},styles:{plot_0:{title:"Open interest",histogramBase:0}}},constructor:function(){this.init=function(t,n){this._context=t,this._input=n;var r=e.Std.period(this._context),o=t.symbol.ticker,a=(o=o.substring(1,o.length-2))+"#BUYSELL";this._context.new_sym(a,r,r)},this.main=function(t,n){return this._context=t,this._input=n,this._context.select_sym(1),[e.Std.close(this._context)]}}}};function k(e,t,n,r){return I.apply(this,arguments)}function I(){return(I=x(c.a.mark((function e(t,n,r,o){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://blep-cors.herokuapp.com","https://fapi.binance.com",e.prev=2,e.next=5,_()("https://blep-cors.herokuapp.com/https://fapi.binance.com"+t+"/?symbol="+r+"&period="+n+"&limit="+o);case 5:if((a=e.sent).ok){e.next=8;break}throw Error(a.statusText);case 8:return e.abrupt("return",a.json());case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function B(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=D(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function C(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){A(a,r,o,s,i,"next",e)}function i(e){A(a,r,o,s,i,"throw",e)}s(void 0)}))}}var P=new Map,T={supported_resolutions:["1S","1D","1W","1M"],exchanges:[{value:"Bitfinex",name:"Bitfinex",desc:"Bitfinex"},{value:"Kraken",name:"Kraken",desc:"Kraken bitcoin exchange"}],symbols_types:[{name:"crypto",value:"crypto"}]};function j(){return U.apply(this,arguments)}function U(){return(U=E(c.a.mark((function e(){var t,n,r,o,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("data/v3/all/exchanges");case 2:for(t=e.sent,n=[],r=function(){for(var e=a.value,r=t.Data[e.value].pairs,o=function(){var t=i[s],o=r[t].map((function(n){var r=h(e.value,t,n);return{symbol:r.short,full_name:r.full,description:r.short,exchange:e.value,type:"crypto"}}));n=[].concat(C(n),C(o))},s=0,i=Object.keys(r);s<i.length;s++)o()},o=B(T.exchanges);!(a=o()).done;)r();return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M,R,L,W={onReady:function(e){console.log("[onReady]: Method call"),setTimeout((function(){return e(T)}))},searchSymbols:(L=E(c.a.mark((function e(t,n,r,o){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[searchSymbols]: Method call"),e.next=3,j();case 3:a=e.sent,s=a.filter((function(e){var r=""===n||e.exchange===n,o=-1!==e.full_name.toLowerCase().indexOf(t.toLowerCase());return r&&o})),o(s);case 6:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return L.apply(this,arguments)}),resolveSymbol:(R=E(c.a.mark((function e(t,n,r){var o,a,s,i,l,u,p,f,h,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[resolveSymbol]: Method call",t),o=d(t),a=o.exchange,s=o.fromSymbol,i=o.toSymbol,!(l=o.fragment)){e.next=8;break}return p={name:(u=s+"/"+i)+"#"+l,description:u+"#"+l,type:"crypto",session:"24x7",timezone:"Etc/UTC",exchange:a,minmov:1,pricescale:100,has_intraday:!1,has_no_volume:!0,has_weekly_and_monthly:!1,supported_resolutions:T.supported_resolutions,volume_precision:2,data_status:"streaming"},console.log("[resolveSymbol]: Symbol resolved",t),n(p),e.abrupt("return");case 8:return e.next=10,j();case 10:if(f=e.sent,h=f.find((function(e){return e.full_name===t}))){e.next=16;break}return console.log("[resolveSymbol]: Cannot resolve symbol",t),r("cannot resolve symbol"),e.abrupt("return");case 16:m={name:h.symbol,description:h.description,type:h.type,session:"24x7",timezone:"Etc/UTC",exchange:h.exchange,minmov:1,pricescale:100,has_intraday:!1,has_no_volume:!0,has_weekly_and_monthly:!1,supported_resolutions:T.supported_resolutions,volume_precision:2,data_status:"streaming"},console.log("[resolveSymbol]: Symbol resolved",t),n(m);case 19:case"end":return e.stop()}}),e)}))),function(e,t,n){return R.apply(this,arguments)}),getBars:(M=E(c.a.mark((function e(t,n,r,o,a,s,i){var l,u,f,h,m,y,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[getBars]: Method call",t,n,r,o),!(l=d(t.full_name)).fragment){e.next=10;break}return e.next=5,k("/futures/data/openInterestHist","1d","BTCUSDT",30);case 5:return u=e.sent,f=[],u.forEach((function(e){e.timestamp/1e3>=r&&e.timstamp/1e3<o&&(f=[].concat(C(f),[{time:e.timestamp,close:e.sumOpenInterest}]))})),a(f,{noData:!1}),e.abrupt("return");case 10:return h={e:l.exchange,fsym:l.fromSymbol,tsym:l.toSymbol,toTs:o,limit:2e3},m=Object.keys(h).map((function(e){return e+"="+encodeURIComponent(h[e])})).join("&"),e.prev=12,e.next=15,p("data/histoday?"+m);case 15:if(!((y=e.sent).Response&&"Error"===y.Response||0===y.Data.length)){e.next=19;break}return a([],{noData:!0}),e.abrupt("return");case 19:b=[],y.Data.forEach((function(e){e.time>=r&&e.time<o&&(b=[].concat(C(b),[{time:1e3*e.time,low:e.low,high:e.high,open:e.open,close:e.close}]))})),i&&P.set(t.full_name,Object.assign({},b[b.length-1])),console.log("[getBars]: returned "+b.length+" bar(s)"),a(b,{noData:!1}),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(12),console.log("[getBars]: Get error",e.t0),s(e.t0);case 30:case"end":return e.stop()}}),e,null,[[12,26]])}))),function(e,t,n,r,o,a,s){return M.apply(this,arguments)}),subscribeBars:function(e,t,n,r,o){console.log("[subscribeBars]: Method call with subscribeUID:",r),d(e.full_name).fragment||function(e,t,n,r,o,a){var s=d(e.full_name),i="0~"+s.exchange+"~"+s.fromSymbol+"~"+s.toSymbol,c={id:r,callback:n},l=v.get(i);l?l.handlers.push(c):(l={subscribeUID:r,resolution:t,lastDailyBar:a,handlers:[c]},v.set(i,l),console.log("[subscribeBars]: Subscribe to streaming. Channel:",i),b.emit("SubAdd",{subs:[i]}))}(e,t,n,r,0,P.get(e.full_name))},unsubscribeBars:function(e){console.log("[unsubscribeBars]: Method call with subscriberUID:",e),function(e){for(var t,n=m(v.keys());!(t=n()).done;){var r=t.value,o=v.get(r),a=o.handlers.findIndex((function(t){return t.id===e}));if(-1!==a&&(o.handlers.splice(a,1),0===o.handlers.length)){console.log("[unsubscribeBars]: Unsubscribe from streaming. Channel:",r),b.emit("SubRemove",{subs:[r]}),v.delete(r);break}}}(e)}};var z=Object(s.a)((function(){return n.e(26).then(n.t.bind(null,"rJ76",7))}),{ssr:!1}).widget;var G=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).tvWidget=null,t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;return a.componentDidMount=function(){var e,t={symbol:this.props.symbol,datafeed:W,interval:this.props.interval,container_id:this.props.containerId,library_path:this.props.libraryPath,locale:(e=new RegExp("[\\?&]lang=([^&#]*)").exec(window.location.search),(null===e?null:decodeURIComponent(e[1].replace(/\+/g," ")))||"en"),disabled_features:["use_localstorage_for_settings"],enabled_features:["study_templates"],charts_storage_url:this.props.chartsStorageUrl,charts_storage_api_version:this.props.chartsStorageApiVersion,client_id:this.props.clientId,user_id:this.props.userId,fullscreen:this.props.fullscreen,autosize:this.props.autosize,studies_overrides:this.props.studiesOverrides,custom_indicators_getter:this.props.customIndicatorsGetter},n=new z(t);this.tvWidget=n,n.onChartReady((function(){n.headerReady().then((function(){var e=n.createButton();e.setAttribute("title","Click to show a notification popup"),e.classList.add("apply-common-tooltip"),e.addEventListener("click",(function(){return n.showNoticeDialog({title:"Notification",body:"TradingView Charting Library API works correctly",callback:function(){console.log("Noticed!")}})})),e.innerHTML="Custom Btn"})),n.chart().createStudy("Binance Open Interest",!1,!0)}))},a.componentWillUnmount=function(){null!==this.tvWidget&&(this.tvWidget.remove(),this.tvWidget=null)},a.render=function(){return r.createElement("div",{id:this.props.containerId,className:"self-stretch w-full TVChartContainer"})},o}(r.PureComponent);G.defaultProps={symbol:"Bitfinex:BTC/USD",interval:"1D",containerId:"tv_chart_container",libraryPath:"/charting_library/",chartsStorageUrl:"https://saveload.tradingview.com",chartsStorageApiVersion:"1.1",clientId:"tradingview.com",userId:"public_user_id",fullscreen:!1,autosize:!0,studiesOverrides:{},customIndicatorsGetter:function(e){return Promise.resolve([S(e)])}};var V=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return o.a.createElement(a.a,{includePreFooter:!1},o.a.createElement("div",{className:"flex flex-grow"},o.a.createElement(G,null)))},r}(r.Component)}}]);
//# sourceMappingURL=component---src-pages-chart-1-js-0c7a4197d874f079d944.js.map